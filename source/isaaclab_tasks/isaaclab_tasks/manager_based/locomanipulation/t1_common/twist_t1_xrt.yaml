ROBOT_TYPE: "t1_29dof" # Robot name, "t1_23dof", "g1_29dof", "go2", "b2", "b2w", "h1", "go2w"
ROBOT_SCENE: "sim2real/xmls/t1/scene_t1_29dof_sim2sim.xml" # Robot scene, for Sim2Sim
model_path: "models/TWIST_Baseline_1110.onnx"

# XRT Real-Time Retargeting Config
XRT_ROBOT_TYPE: "booster_t1_29dof" # GMR robot type for retargeting
XRT_HUMAN_HEIGHT: null # Human height in meters (null = auto-estimate from first frame)
XRT_UPDATE_RATE: 100.0 # Hz - rate for fetching and retargeting XRT data
XRT_FALLBACK_MODE: "stop" # What to do when XRT connection is lost: "stop", "hold", "default"

SDK_TYPE: "booster" # SDK type, "unitree", "booster"
MOTOR_TYPE: "serial" # Motor type, "serial" or "parallel"

DOMAIN_ID: 0 # Domain id
NET: 127.0.0.1
INTERFACE: "lo" # in simulation, lo0 for mac, lo for linux
# NET: 192.168.10.10
# INTERFACE: "enx34298f67081a" # for real hardware

ENABLE_ELASTIC_BAND: True
SIMULATE_DT: 0.002
VIEWER_DT: 0.01 # Viewer update time
RL_RATE: 50.0
POLICY_ACTION_SCALE: 0.5

# TWIST Policy Config
TWIST_POLICY_DOFS: 27 # Number of DOFs controlled by the policy
TWIST_HIST_LEN: 10 # History length for observations
TWIST_POLICY_INDICES : [
    2, 3, 4, 5, 6, 7, 8,
    9, 10, 11, 12, 13, 14, 15,
    16,
    17, 18, 19, 20, 21, 22,
    23, 24, 25, 26, 27, 28
]
TWIST_ANKLE_INDICES: [
  21, 22, 27, 28
]
TWIST_DEFAULT_ROOT_POS: [0.0, 0.0, 0.65]
TWIST_DEFAULT_JOINT_POS: [
    0.25, -1.4, 0.0, -0.5, 0.0, 0.0, 0.0, # left arm
    0.25, 1.4, 0.0, 0.5, 0.0, 0.0, 0.0, # right arm
    0.0, # waist
    -0.1, 0.0, 0.0, 0.2, -0.1, 0.0, # left leg
    -0.1, 0.0, 0.0, 0.2, -0.1, 0.0, # right leg
]


FREE_BASE: False
USE_JOYSTICK: False
USE_SENSOR: False
JOYSTICK_TYPE: "xbox" # support "xbox" and "switch" gamepad layout
JOYSTICK_DEVICE: 0 # Joystick number

VISUALIZE_PIN: False
VISUALIZE_FORCES: True
BASE_BODY_NAME: "Trunk" # Base body name
BAND_ATTACHED_LINK: "Trunk" # Band attached link name

MOTOR2JOINT:
  [
    0,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    17,
    18,
    19,
    20,
    21,
    22,
    23,
    24,
    25,
    26,
    27,
    28,
  ]

JOINT2MOTOR:
  [
    0,
    1,
    2,
    3,
    4,
    5,
    6,
    7,
    8,
    9,
    10,
    11,
    12,
    13,
    14,
    15,
    16,
    17,
    18,
    19,
    20,
    21,
    22,
    23,
    24,
    25,
    26,
    27,
    28,
  ]

MOTOR_KP:
  [
    20,
    20,

    50,
    50,
    50,
    50,
    30,
    30,
    30,

    50,
    50,
    50,
    50,
    30,
    30,
    30,

    150,

    150,
    150,
    150,
    150,
    10.0,
    10.0,

    150,
    150,
    150,
    150,
    10.0,
    10.0,
  ]

MOTOR_KD:
  [
    0.5,
    0.5,

    3.0,
    3.0,
    3.0,
    3.0,
    2.0,
    2.0,
    2.0,

    3.0,
    3.0,
    3.0,
    3.0,
    2.0,
    2.0,
    2.0,

    5.0,

    5.0,
    5.0,
    5.0,
    5.0,
    1.0,
    1.0,

    5.0,
    5.0,
    5.0,
    5.0,
    1.0,
    1.0,
  ]

dof_names:
  [
    "AAHead_yaw",
    "Head_pitch",
    "Left_Shoulder_Pitch",
    "Left_Shoulder_Roll",
    "Left_Elbow_Pitch",
    "Left_Elbow_Yaw",
    "Left_Wrist_Pitch",
    "Left_Wrist_Yaw",
    "Left_Hand_Roll",
    "Right_Shoulder_Pitch",
    "Right_Shoulder_Roll",
    "Right_Elbow_Pitch",
    "Right_Elbow_Yaw",
    "Right_Wrist_Pitch",
    "Right_Wrist_Yaw",
    "Right_Hand_Roll",
    "Waist",
    "Left_Hip_Pitch",
    "Left_Hip_Roll",
    "Left_Hip_Yaw",
    "Left_Knee_Pitch",
    "Left_Ankle_Pitch",
    "Left_Ankle_Roll",
    "Right_Hip_Pitch",
    "Right_Hip_Roll",
    "Right_Hip_Yaw",
    "Right_Knee_Pitch",
    "Right_Ankle_Pitch",
    "Right_Ankle_Roll",
  ]
dof_names_upper_body:
  [
    "AAHead_yaw",
    "Head_pitch",
    "Left_Shoulder_Pitch",
    "Left_Shoulder_Roll",
    "Left_Elbow_Pitch",
    "Left_Elbow_Yaw",
    "Left_Wrist_Pitch",
    "Left_Wrist_Yaw",
    "Left_Hand_Roll",
    "Right_Shoulder_Pitch",
    "Right_Shoulder_Roll",
    "Right_Elbow_Pitch",
    "Right_Elbow_Yaw",
    "Right_Wrist_Pitch",
    "Right_Wrist_Yaw",
    "Right_Hand_Roll",
    "Waist",
  ]
dof_names_lower_body:
  [
    "Left_Hip_Pitch",
    "Left_Hip_Roll",
    "Left_Hip_Yaw",
    "Left_Knee_Pitch",
    "Left_Ankle_Pitch",
    "Left_Ankle_Roll",
    "Right_Hip_Pitch",
    "Right_Hip_Roll",
    "Right_Hip_Yaw",
    "Right_Knee_Pitch",
    "Right_Ankle_Pitch",
    "Right_Ankle_Roll",
  ]
dof_names_parallel_mech:
  [
    "Left_Ankle_Pitch",
    "Left_Ankle_Roll",
    "Right_Ankle_Pitch",
    "Right_Ankle_Roll",
  ]
WeakMotorJointIndex:
  AAHead_yaw: 0
  Head_pitch: 1
  Left_Shoulder_Pitch: 2
  Left_Shoulder_Roll: 3
  Left_Elbow_Pitch: 4
  Left_Elbow_Yaw: 5
  Left_Wrist_Pitch: 6
  Left_Wrist_Yaw: 7
  Left_Hand_Roll: 8
  Right_Shoulder_Pitch: 9
  Right_Shoulder_Roll: 10
  Right_Elbow_Pitch: 11
  Right_Elbow_Yaw: 12
  Right_Wrist_Pitch: 13
  Right_Wrist_Yaw: 14
  Right_Hand_Roll: 15
  Waist: 16
  Left_Hip_Pitch: 17
  Left_Hip_Roll: 18
  Left_Hip_Yaw: 19
  Left_Knee_Pitch: 20
  Left_Ankle_Pitch: 21
  Left_Ankle_Roll: 22
  Right_Hip_Pitch: 23
  Right_Hip_Roll: 24
  Right_Hip_Yaw: 25
  Right_Knee_Pitch: 26
  Right_Ankle_Pitch: 27
  Right_Ankle_Roll: 28

NUM_MOTORS: 29
NUM_JOINTS: 29
NUM_UPPER_BODY_JOINTS: 17

DEFAULT_DOF_ANGLES: [
    0.0, # AAHead_yaw
    0.0, # Head_pitch
    0.2, # Left_Shoulder_Pitch
    -1.35, # Left_Shoulder_Roll
    0.0, # Left_Elbow_Pitch
    -0.5, # Left_Elbow_Yaw
    0.0, # Left_Wrist_Pitch
    0.0, # Left_Wrist_Yaw
    0.0, # Left_Hand_Roll
    0.2, # Right_Shoulder_Pitch
    1.35, # Right_Shoulder_Roll
    0.0, # Right_Elbow_Pitch
    0.5, # Right_Elbow_Yaw
    0.0, # Right_Wrist_Pitch
    0.0, # Right_Wrist_Yaw
    0.0, # Right_Hand_Roll
    0.0, # Waist
    -0.2, # Left_Hip_Pitch
    0.0, # Left_Hip_Roll
    0.0, # Left_Hip_Yaw
    0.4, # Left_Knee_Pitch
    -0.25, # Left_Ankle_Pitch
    0.0, # Left_Ankle_Roll
    -0.2, # Right_Hip_Pitch
    0.0, # Right_Hip_Roll
    0.0, # Right_Hip_Yaw
    0.4, # Right_Knee_Pitch
    -0.25, # Right_Ankle_Pitch
    0.0, # Right_Ankle_Roll
  ]

DEFAULT_MOTOR_ANGLES: [
    0.0, # AAHead_yaw
    0.0, # Head_pitch
    0.2, # Left_Shoulder_Pitch
    -1.35, # Left_Shoulder_Roll
    0.0, # Left_Elbow_Pitch
    -0.5, # Left_Elbow_Yaw
    0.0, # Left_Wrist_Pitch
    0.0, # Left_Wrist_Yaw
    0.0, # Left_Hand_Roll
    0.2, # Right_Shoulder_Pitch
    1.35, # Right_Shoulder_Roll
    0.0, # Right_Elbow_Pitch
    0.5, # Right_Elbow_Yaw
    0.0, # Right_Wrist_Pitch
    0.0, # Right_Wrist_Yaw
    0.0, # Right_Hand_Roll
    0.0, # Waist
    -0.2, # Left_Hip_Pitch
    0.0, # Left_Hip_Roll
    0.0, # Left_Hip_Yaw
    0.4, # Left_Knee_Pitch
    -0.25, # Left_Ankle_Pitch
    0.0, # Left_Ankle_Roll
    -0.2, # Right_Hip_Pitch
    0.0, # Right_Hip_Roll
    0.0, # Right_Hip_Yaw
    0.4, # Right_Knee_Pitch
    -0.25, # Right_Ankle_Pitch
    0.0, # Right_Ankle_Roll
  ]

motor_pos_lower_limit_list:
  [
    -1.57,
    -0.35,
    -3.31,
    -1.74,
    -2.27,
    -2.27,
    -2.27,
    -2.27,
    -2.27,
    -3.31,
    -1.57,
    -2.27,
    -2.27,
    -2.27,
    -2.27,
    -2.27,
    -1.57,
    -1.8,
    -0.3,
    -1,
    0,
    -0.87,
    -0.44,
    -1.8,
    -1.57,
    -1,
    0,
    -0.87,
    -0.44,
  ]
motor_pos_upper_limit_list:
  [
    1.57,
    1.22,
    1.22,
    1.57,
    2.27,
    2.27,
    2.27,
    2.27,
    2.27,
    1.22,
    1.74,
    2.27,
    2.27,
    2.27,
    2.27,
    2.27,
    1.57,
    1.57,
    1.57,
    1,
    2.34,
    0.35,
    0.44,
    1.57,
    0.3,
    1,
    2.34,
    0.35,
    0.44,
  ]
motor_vel_limit_list:
  [
    12.56,
    12.56,
    18.84,
    18.84,
    18.84,
    18.84,
    18.84,
    18.84,
    18.84,
    18.84,
    18.84,
    18.84,
    18.84,
    18.84,
    18.84,
    18.84,
    10.88,
    12.5,
    10.9,
    10.9,
    11.7,
    18.8,
    12.4,
    12.5,
    10.9,
    10.9,
    11.7,
    18.8,
    12.4,
  ]
motor_effort_limit_list:
  [
    7,
    7,
    18,
    18,
    18,
    18,
    18,
    18,
    18,
    18,
    18,
    18,
    18,
    18,
    18,
    18,
    30,
    45,
    30,
    30,
    60,
    12,
    12,
    45,
    30,
    30,
    60,
    12,
    12,
  ]
obs_dict:
  {
    actor_obs:
      [
        base_ang_vel,
        projected_gravity,
        command_lin_vel,
        command_ang_vel,
        command_stand,
        command_base_height,
        command_waist_dofs,
        ref_upper_dof_pos,
        dof_pos,
        dof_vel,
        actions,
      ],
  }
history_length_dict: { actor_obs: 5 }
obs_dims: {
    base_lin_vel: 3,
    base_ang_vel: 3,
    projected_gravity: 3,
    command_lin_vel: 2,
    command_ang_vel: 1,
    command_stand: 1,
    command_base_height: 1,
    command_waist_dofs: 3,
    ref_upper_dof_pos: 16, # upper body actions
    dof_pos: 29,
    dof_vel: 29,
    actions: 29, # lower body actions
    phase_time: 1,
  }
obs_scales:
  {
    base_lin_vel: 1.0,
    base_ang_vel: 1.0,
    projected_gravity: 1.0,
    command_lin_vel: 1.0,
    command_ang_vel: 1.0,
    command_stand: 1.0,
    command_waist_dofs: 1.0,
    command_base_height: 2.0,
    ref_upper_dof_pos: 1.0,
    dof_pos: 1.0,
    dof_vel: 0.1,
    actions: 1.0,
    left_ee_apply_force: 0.1,
    right_ee_apply_force: 0.1,
    history_actor: 1.0,
  }

prepare:
  stiffness:
    [
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
      0.,

      0.,
      0.,
      0.,
      0.,
      0.,
      0.,
    ]
  damping:
    [
      2.0,
      2.0,

      3.0,
      3.0,
      3.0,
      3.0,
      2.0,
      2.0,
      2.0,

      3.0,
      3.0,
      3.0,
      3.0,
      2.0,
      2.0,
      2.0,

      5.0,

      7.5,
      7.5,
      3.,
      5.5,
      2.0,
      2.0,

      7.5,
      7.5,
      3.,
      5.5,
      1.5,
      1.5,
    ]
  default_qpos:
    [
      0.0,
      0.0,
      0.25,
      -1.4,
      0.0,
      -0.5,
      0.0,
      0.0,
      0.0,
      0.25,
      1.4,
      0.0,
      0.5,
      0.0,
      0.0,
      0.0,
      0.0,
      -0.1,
      0.0,
      0.0,
      0.2,
      -0.1,
      0.0,
      -0.1,
      0.0,
      0.0,
      0.2,
      -0.1,
      0.0,
    ]
